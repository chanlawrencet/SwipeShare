{"ast":null,"code":"var _jsxFileName = \"/Users/lawrencechan/coding/SwipeShare/src/Cards.js\";\nimport React from 'react';\nimport { Card } from \"@material-ui/core\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport Button from \"@material-ui/core/Button\";\nimport Chip from \"@material-ui/core/Chip\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\n\nclass Cards extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.toPrettyTimeString = time => {\n      const theDate = new Date(time);\n      const timeString = theDate.toLocaleTimeString([], {\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n      let finalString = timeString;\n\n      if (timeString.charAt(0) === '0') {\n        finalString = timeString.slice(1);\n      }\n\n      return finalString;\n    };\n\n    this.toPrettyLocationString = location => {\n      return location.charAt(0).toUpperCase() + location.slice(1);\n    };\n\n    this.requestCards = () => {\n      this.setState({\n        cards: []\n      });\n      var request = new Request('https://swipeshareapi.herokuapp.com/', {\n        method: 'GET'\n      });\n      fetch(request).then(response => response.json()).then(data => {\n        this.setState({\n          cards: data.entries\n        });\n      }).catch(x => {\n        console.log('no data', x);\n        return 'no data';\n      });\n    };\n\n    this.state = {\n      cards: [],\n      filters: {\n        carmichael: true,\n        dewick: true,\n        hodgdon: true\n      },\n      selectedLocation: '',\n      selectedTime: null,\n      showConfirmation: false\n    };\n  }\n\n  makeUnavailableCard() {\n    return React.createElement(Card, {\n      key: \"unavailable\",\n      style: {\n        marginBottom: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(CardContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      variant: \"h6\",\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"No meals available at this time\")));\n  }\n\n  makeUnavailableFiltersCard() {\n    return React.createElement(Card, {\n      key: \"unavailable\",\n      style: {\n        marginBottom: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(CardContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      variant: \"h6\",\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"No meals available at this time for your selected filters.\")));\n  }\n\n  makeCard(theCardInfo) {\n    const _this$props = this.props,\n          userVerified = _this$props.userVerified,\n          userEmail = _this$props.userEmail,\n          showLoginM = _this$props.showLoginM;\n    const location = theCardInfo.location,\n          time = theCardInfo.time;\n    return React.createElement(Card, {\n      key: location + time + Math.random(),\n      style: {\n        marginBottom: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(CardContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      variant: \"h5\",\n      align: \"left\",\n      style: {\n        marginLeft: '5%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, this.toPrettyLocationString(location), \" - \", this.toPrettyTimeString(time))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(CardActions, {\n      align: \"right\",\n      style: {\n        justifyContent: 'flex-end'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(Button, {\n      size: \"medium\",\n      onClick: () => {\n        if (userVerified && userEmail !== '') {\n          console.log('good');\n          this.setState({\n            selectedLocation: location,\n            selectedTime: time,\n            showConfirmation: true\n          });\n        } else {\n          showLoginM();\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Request Meal\"))));\n  }\n\n  makeFilters() {\n    const filters = this.state.filters;\n    let toReturn = [];\n\n    if (filters.carmichael) {\n      toReturn.push('carmichael');\n    }\n\n    if (filters.dewick) {\n      toReturn.push('dewick');\n    }\n\n    if (filters.hodgdon) {\n      toReturn.push('hodgdon');\n    }\n\n    return toReturn;\n  }\n\n  cards() {\n    const cards = this.state.cards;\n    let toReturn = [];\n    const filtersList = this.makeFilters();\n    cards.forEach(x => {\n      if (filtersList.includes(x.location)) {\n        toReturn.push(this.makeCard(x));\n      }\n    });\n\n    if (toReturn.length === 0) {\n      return this.makeUnavailableFiltersCard();\n    }\n\n    return toReturn;\n  }\n\n  showOptions() {\n    const filters = this.state.filters;\n    const carmichael = filters.carmichael,\n          dewick = filters.dewick,\n          hodgdon = filters.hodgdon;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(Chip, {\n      className: \"chip\",\n      key: \"carm\",\n      label: \"Carmichael\",\n      clickable: true,\n      color: carmichael ? 'primary' : 'default',\n      onClick: () => this.setState({\n        filters: {\n          carmichael: !carmichael,\n          dewick: dewick,\n          hodgdon: hodgdon\n        }\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }), React.createElement(Chip, {\n      className: \"chip\",\n      key: \"dew\",\n      label: \"Dewick\",\n      clickable: true,\n      color: dewick ? 'primary' : 'default',\n      onClick: () => this.setState({\n        filters: {\n          carmichael: carmichael,\n          dewick: !dewick,\n          hodgdon: hodgdon\n        }\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }), React.createElement(Chip, {\n      className: \"chip\",\n      key: \"hodge\",\n      label: \"Hodgdon\",\n      clickable: true,\n      color: hodgdon ? 'primary' : 'default',\n      onClick: () => this.setState({\n        filters: {\n          carmichael: carmichael,\n          dewick: dewick,\n          hodgdon: !hodgdon\n        }\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }));\n  }\n\n  componentDidMount() {\n    this.requestCards(); // setInterval(this.requestCards, 10000)\n  }\n\n  render() {\n    const _this$state = this.state,\n          cards = _this$state.cards,\n          showConfirmation = _this$state.showConfirmation,\n          selectedLocation = _this$state.selectedLocation,\n          selectedTime = _this$state.selectedTime;\n    console.log(this.props);\n    return React.createElement(\"div\", {\n      style: {\n        marginLeft: '15%',\n        marginRight: '15%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        fontSize: 30,\n        textAlign: 'left',\n        marginBottom: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, \"Available Meal Swipes:\"), this.showOptions(), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }), cards.length === 0 ? this.makeUnavailableCard() : this.cards(), React.createElement(Dialog, {\n      open: showConfirmation,\n      onClose: () => this.setState({\n        showConfirmation: false\n      }),\n      \"aria-labelledby\": \"alert-dialog-title\",\n      \"aria-describedby\": \"alert-dialog-description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(DialogTitle, {\n      id: \"alert-dialog-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, \"Please confirm your request\"), React.createElement(DialogContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(DialogContentText, {\n      id: \"alert-dialog-description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, \"You're agreeing to a meal at \", this.toPrettyLocationString(selectedLocation), \" at \", this.toPrettyTimeString(selectedTime)), React.createElement(DialogContentText, {\n      id: \"alert-dialog-description2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, \"You will receive an email alert as a reminder.\")), React.createElement(DialogActions, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: () => this.setState({\n        showConfirmation: false\n      }),\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, \"Disagree\"), React.createElement(Button, {\n      onClick: () => this.setState({\n        showConfirmation: false\n      }),\n      color: \"primary\",\n      autoFocus: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, \"Agree\"))));\n  }\n\n}\n\nexport default Cards;","map":{"version":3,"sources":["/Users/lawrencechan/coding/SwipeShare/src/Cards.js"],"names":["React","Card","CardContent","Typography","CardActions","Button","Chip","Dialog","DialogTitle","DialogContent","DialogActions","DialogContentText","Cards","Component","constructor","props","toPrettyTimeString","time","theDate","Date","timeString","toLocaleTimeString","hour","minute","finalString","charAt","slice","toPrettyLocationString","location","toUpperCase","requestCards","setState","cards","request","Request","method","fetch","then","response","json","data","entries","catch","x","console","log","state","filters","carmichael","dewick","hodgdon","selectedLocation","selectedTime","showConfirmation","makeUnavailableCard","marginBottom","makeUnavailableFiltersCard","makeCard","theCardInfo","userVerified","userEmail","showLoginM","Math","random","marginLeft","justifyContent","makeFilters","toReturn","push","filtersList","forEach","includes","length","showOptions","componentDidMount","render","marginRight","fontSize","textAlign"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,QAAmB,mBAAnB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,iBAAP,MAA8B,qCAA9B;;AAIA,MAAMC,KAAN,SAAoBZ,KAAK,CAACa,SAA1B,CAAmC;AA+B/BC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SA7BlBC,kBA6BkB,GA7BGC,IAAI,IAAI;AACzB,YAAMC,OAAO,GAAG,IAAIC,IAAJ,CAASF,IAAT,CAAhB;AACA,YAAMG,UAAU,GAAGF,OAAO,CAACG,kBAAR,CAA2B,EAA3B,EAA+B;AAACC,QAAAA,IAAI,EAAE,SAAP;AAAkBC,QAAAA,MAAM,EAAC;AAAzB,OAA/B,CAAnB;AACA,UAAIC,WAAW,GAAGJ,UAAlB;;AACA,UAAIA,UAAU,CAACK,MAAX,CAAkB,CAAlB,MAAyB,GAA7B,EAAiC;AAC7BD,QAAAA,WAAW,GAAGJ,UAAU,CAACM,KAAX,CAAiB,CAAjB,CAAd;AACH;;AACD,aAAOF,WAAP;AACH,KAqBiB;;AAAA,SAnBlBG,sBAmBkB,GAnBOC,QAAQ,IAAI;AACjC,aAAOA,QAAQ,CAACH,MAAT,CAAgB,CAAhB,EAAmBI,WAAnB,KAAmCD,QAAQ,CAACF,KAAT,CAAe,CAAf,CAA1C;AACH,KAiBiB;;AAAA,SAflBI,YAekB,GAfH,MAAM;AACjB,WAAKC,QAAL,CAAc;AACVC,QAAAA,KAAK,EAAE;AADG,OAAd;AAGA,UAAIC,OAAO,GAAG,IAAIC,OAAJ,CAAY,sCAAZ,EAAoD;AAACC,QAAAA,MAAM,EAAC;AAAR,OAApD,CAAd;AACAC,MAAAA,KAAK,CAACH,OAAD,CAAL,CACKI,IADL,CACUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADtB,EAEKF,IAFL,CAEUG,IAAI,IAAI;AACV,aAAKT,QAAL,CAAc;AAACC,UAAAA,KAAK,EAAEQ,IAAI,CAACC;AAAb,SAAd;AACH,OAJL,EAIOC,KAJP,CAIaC,CAAC,IAAI;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,CAAvB;AACA,eAAO,SAAP;AACH,OAPD;AAQH,KAEiB;;AAEd,SAAKG,KAAL,GAAa;AACTd,MAAAA,KAAK,EAAC,EADG;AAETe,MAAAA,OAAO,EAAE;AACLC,QAAAA,UAAU,EAAE,IADP;AAELC,QAAAA,MAAM,EAAE,IAFH;AAGLC,QAAAA,OAAO,EAAE;AAHJ,OAFA;AAOTC,MAAAA,gBAAgB,EAAE,EAPT;AAQTC,MAAAA,YAAY,EAAE,IARL;AASTC,MAAAA,gBAAgB,EAAE;AATT,KAAb;AAYH;;AACDC,EAAAA,mBAAmB,GAAE;AACjB,WACI,oBAAC,IAAD;AAAM,MAAA,GAAG,EAAC,aAAV;AAAwB,MAAA,KAAK,EAAE;AAACC,QAAAA,YAAY,EAAC;AAAd,OAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAC,IAApB;AAAyB,MAAA,KAAK,EAAC,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCADJ,CADJ,CADJ;AASH;;AAEDC,EAAAA,0BAA0B,GAAE;AACxB,WACI,oBAAC,IAAD;AAAM,MAAA,GAAG,EAAC,aAAV;AAAwB,MAAA,KAAK,EAAE;AAACD,QAAAA,YAAY,EAAC;AAAd,OAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAC,IAApB;AAAyB,MAAA,KAAK,EAAC,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oEADJ,CADJ,CADJ;AASH;;AAEDE,EAAAA,QAAQ,CAACC,WAAD,EAAa;AAAA,wBAC6B,KAAK3C,KADlC;AAAA,UACV4C,YADU,eACVA,YADU;AAAA,UACIC,SADJ,eACIA,SADJ;AAAA,UACeC,UADf,eACeA,UADf;AAAA,UAEVjC,QAFU,GAEQ8B,WAFR,CAEV9B,QAFU;AAAA,UAEAX,IAFA,GAEQyC,WAFR,CAEAzC,IAFA;AAGjB,WACI,oBAAC,IAAD;AAAM,MAAA,GAAG,EAAEW,QAAQ,GAACX,IAAT,GAAc6C,IAAI,CAACC,MAAL,EAAzB;AAAwC,MAAA,KAAK,EAAE;AAACR,QAAAA,YAAY,EAAC;AAAd,OAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAC,IAApB;AAAyB,MAAA,KAAK,EAAC,MAA/B;AAAsC,MAAA,KAAK,EAAE;AAACS,QAAAA,UAAU,EAAC;AAAZ,OAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKrC,sBAAL,CAA4BC,QAA5B,CADL,SAC+C,KAAKZ,kBAAL,CAAwBC,IAAxB,CAD/C,CADJ,CADJ,EAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,WAAD;AAAa,MAAA,KAAK,EAAC,OAAnB;AAA2B,MAAA,KAAK,EAAE;AAACgD,QAAAA,cAAc,EAAE;AAAjB,OAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,OAAO,EAAE,MAAM;AACjC,YAAIN,YAAY,IAAIC,SAAS,KAAK,EAAlC,EAAqC;AACjChB,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA,eAAKd,QAAL,CAAc;AACVoB,YAAAA,gBAAgB,EAAEvB,QADR;AAEVwB,YAAAA,YAAY,EAAEnC,IAFJ;AAGVoC,YAAAA,gBAAgB,EAAE;AAHR,WAAd;AAKH,SAPD,MAOO;AACHQ,UAAAA,UAAU;AACb;AACJ,OAXD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,CADJ,CANJ,CADJ;AA2BH;;AAEDK,EAAAA,WAAW,GAAE;AAAA,UACFnB,OADE,GACS,KAAKD,KADd,CACFC,OADE;AAET,QAAIoB,QAAQ,GAAG,EAAf;;AACA,QAAIpB,OAAO,CAACC,UAAZ,EAAuB;AACnBmB,MAAAA,QAAQ,CAACC,IAAT,CAAc,YAAd;AACH;;AACD,QAAIrB,OAAO,CAACE,MAAZ,EAAmB;AACfkB,MAAAA,QAAQ,CAACC,IAAT,CAAc,QAAd;AACH;;AACD,QAAIrB,OAAO,CAACG,OAAZ,EAAoB;AAChBiB,MAAAA,QAAQ,CAACC,IAAT,CAAc,SAAd;AACH;;AAED,WAAOD,QAAP;AACH;;AACDnC,EAAAA,KAAK,GAAE;AAAA,UACIA,KADJ,GACa,KAAKc,KADlB,CACId,KADJ;AAEH,QAAImC,QAAQ,GAAG,EAAf;AACA,UAAME,WAAW,GAAG,KAAKH,WAAL,EAApB;AACAlC,IAAAA,KAAK,CAACsC,OAAN,CAAc3B,CAAC,IAAI;AACX,UAAI0B,WAAW,CAACE,QAAZ,CAAqB5B,CAAC,CAACf,QAAvB,CAAJ,EAAqC;AACjCuC,QAAAA,QAAQ,CAACC,IAAT,CAAc,KAAKX,QAAL,CAAcd,CAAd,CAAd;AAAgC;AACvC,KAHL;;AAMA,QAAIwB,QAAQ,CAACK,MAAT,KAAoB,CAAxB,EAA0B;AACtB,aAAO,KAAKhB,0BAAL,EAAP;AAEH;;AACD,WAAOW,QAAP;AACH;;AAEDM,EAAAA,WAAW,GAAE;AAAA,UACF1B,OADE,GACS,KAAKD,KADd,CACFC,OADE;AAAA,UAEFC,UAFE,GAE6BD,OAF7B,CAEFC,UAFE;AAAA,UAEUC,MAFV,GAE6BF,OAF7B,CAEUE,MAFV;AAAA,UAEkBC,OAFlB,GAE6BH,OAF7B,CAEkBG,OAFlB;AAGT,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD;AACI,MAAA,SAAS,EAAC,MADd;AAEI,MAAA,GAAG,EAAC,MAFR;AAGI,MAAA,KAAK,EAAC,YAHV;AAII,MAAA,SAAS,MAJb;AAKI,MAAA,KAAK,EAAEF,UAAU,GAAG,SAAH,GAAe,SALpC;AAMI,MAAA,OAAO,EAAE,MAAM,KAAKjB,QAAL,CAAc;AAACgB,QAAAA,OAAO,EAAE;AAC/BC,UAAAA,UAAU,EAAE,CAACA,UADkB;AACNC,UAAAA,MAAM,EAAEA,MADF;AACUC,UAAAA,OAAO,EAAEA;AADnB;AAAV,OAAd,CANnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAWI,oBAAC,IAAD;AACI,MAAA,SAAS,EAAC,MADd;AAEI,MAAA,GAAG,EAAC,KAFR;AAGI,MAAA,KAAK,EAAC,QAHV;AAII,MAAA,SAAS,MAJb;AAKI,MAAA,KAAK,EAAED,MAAM,GAAG,SAAH,GAAe,SALhC;AAMI,MAAA,OAAO,EAAE,MAAM,KAAKlB,QAAL,CAAc;AAACgB,QAAAA,OAAO,EAAE;AAC/BC,UAAAA,UAAU,EAAEA,UADmB;AACPC,UAAAA,MAAM,EAAE,CAACA,MADF;AACUC,UAAAA,OAAO,EAAEA;AADnB;AAAV,OAAd,CANnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXJ,EAqBI,oBAAC,IAAD;AACI,MAAA,SAAS,EAAC,MADd;AAEI,MAAA,GAAG,EAAC,OAFR;AAGI,MAAA,KAAK,EAAC,SAHV;AAII,MAAA,SAAS,MAJb;AAKI,MAAA,KAAK,EAAEA,OAAO,GAAG,SAAH,GAAe,SALjC;AAMI,MAAA,OAAO,EAAE,MAAM,KAAKnB,QAAL,CAAc;AAACgB,QAAAA,OAAO,EAAE;AAC/BC,UAAAA,UAAU,EAAEA,UADmB;AACPC,UAAAA,MAAM,EAAEA,MADD;AACSC,UAAAA,OAAO,EAAE,CAACA;AADnB;AAAV,OAAd,CANnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArBJ,CADJ;AAkCH;;AAEDwB,EAAAA,iBAAiB,GAAG;AAChB,SAAK5C,YAAL,GADgB,CAEhB;AACH;;AAED6C,EAAAA,MAAM,GAAG;AAAA,wBAC6D,KAAK7B,KADlE;AAAA,UACEd,KADF,eACEA,KADF;AAAA,UACSqB,gBADT,eACSA,gBADT;AAAA,UAC2BF,gBAD3B,eAC2BA,gBAD3B;AAAA,UAC6CC,YAD7C,eAC6CA,YAD7C;AAELR,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAK9B,KAAjB;AAEA,WACI;AAAK,MAAA,KAAK,EAAE;AAACiD,QAAAA,UAAU,EAAC,KAAZ;AAAmBY,QAAAA,WAAW,EAAE;AAAhC,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,KAAK,EAAE;AAACC,QAAAA,QAAQ,EAAC,EAAV;AAAcC,QAAAA,SAAS,EAAC,MAAxB;AAAgCvB,QAAAA,YAAY,EAAC;AAA7C,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADJ,EAEK,KAAKkB,WAAL,EAFL,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,EAIKzC,KAAK,CAACwC,MAAN,KAAiB,CAAjB,GAAqB,KAAKlB,mBAAL,EAArB,GAAkD,KAAKtB,KAAL,EAJvD,EAKI,oBAAC,MAAD;AACI,MAAA,IAAI,EAAEqB,gBADV;AAEI,MAAA,OAAO,EAAE,MAAM,KAAKtB,QAAL,CAAc;AAACsB,QAAAA,gBAAgB,EAAE;AAAnB,OAAd,CAFnB;AAGI,yBAAgB,oBAHpB;AAII,0BAAiB,0BAJrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMI,oBAAC,WAAD;AAAa,MAAA,EAAE,EAAC,oBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCANJ,EAOI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,iBAAD;AAAmB,MAAA,EAAE,EAAC,0BAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCACkC,KAAK1B,sBAAL,CAA4BwB,gBAA5B,CADlC,UACqF,KAAKnC,kBAAL,CAAwBoC,YAAxB,CADrF,CADJ,EAII,oBAAC,iBAAD;AAAmB,MAAA,EAAE,EAAC,2BAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wDAJJ,CAPJ,EAeI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,MAAM,KAAKrB,QAAL,CAAc;AAACsB,QAAAA,gBAAgB,EAAE;AAAnB,OAAd,CAAvB;AAAiE,MAAA,KAAK,EAAC,SAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAII,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,MAAM,KAAKtB,QAAL,CAAc;AAACsB,QAAAA,gBAAgB,EAAE;AAAnB,OAAd,CAAvB;AAAiE,MAAA,KAAK,EAAC,SAAvE;AAAiF,MAAA,SAAS,MAA1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJJ,CAfJ,CALJ,CADJ;AAgCH;;AAtN8B;;AAyNnC,eAAezC,KAAf","sourcesContent":["import React from 'react'\nimport {Card} from \"@material-ui/core\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport Button from \"@material-ui/core/Button\";\nimport Chip from \"@material-ui/core/Chip\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\n\n\n\nclass Cards extends React.Component{\n\n    toPrettyTimeString = time => {\n        const theDate = new Date(time);\n        const timeString = theDate.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});\n        let finalString = timeString;\n        if (timeString.charAt(0) === '0'){\n            finalString = timeString.slice(1);\n        }\n        return finalString\n    }\n\n    toPrettyLocationString = location => {\n        return location.charAt(0).toUpperCase() + location.slice(1)\n    }\n\n    requestCards = () => {\n        this.setState({\n            cards: []\n        });\n        var request = new Request('https://swipeshareapi.herokuapp.com/', {method:'GET'});\n        fetch(request)\n            .then(response => response.json())\n            .then(data => {\n                this.setState({cards: data.entries})\n            }).catch(x => {\n            console.log('no data', x)\n            return('no data')\n        })\n    }\n\n    constructor(props){\n        super(props);\n        this.state = {\n            cards:[],\n            filters: {\n                carmichael: true,\n                dewick: true,\n                hodgdon: true\n            },\n            selectedLocation: '',\n            selectedTime: null,\n            showConfirmation: false,\n        }\n\n    }\n    makeUnavailableCard(){\n        return(\n            <Card key='unavailable' style={{marginBottom:10}}>\n                <CardContent>\n                    <Typography variant='h6' align='center'>\n                        No meals available at this time\n                    </Typography>\n                </CardContent>\n            </Card>\n        )\n    }\n\n    makeUnavailableFiltersCard(){\n        return(\n            <Card key='unavailable' style={{marginBottom:10}}>\n                <CardContent>\n                    <Typography variant='h6' align='center'>\n                        No meals available at this time for your selected filters.\n                    </Typography>\n                </CardContent>\n            </Card>\n        )\n    }\n\n    makeCard(theCardInfo){\n        const {userVerified, userEmail, showLoginM} = this.props;\n        const {location, time} = theCardInfo;\n        return(\n            <Card key={location+time+Math.random()} style={{marginBottom:10}}>\n                <CardContent>\n                    <Typography variant='h5' align='left' style={{marginLeft:'5%'}}>\n                        {this.toPrettyLocationString(location)} - {this.toPrettyTimeString(time)}\n                    </Typography>\n                </CardContent>\n                <div>\n                    <CardActions align='right' style={{justifyContent: 'flex-end'}}>\n                        <Button size=\"medium\" onClick={() => {\n                            if (userVerified && userEmail !== ''){\n                                console.log('good')\n                                this.setState({\n                                    selectedLocation: location,\n                                    selectedTime: time,\n                                    showConfirmation: true\n                                })\n                            } else {\n                                showLoginM()\n                            }\n                        }}>Request Meal</Button>\n                    </CardActions>\n                </div>\n\n            </Card>\n\n        )\n    }\n\n    makeFilters(){\n        const {filters} = this.state;\n        let toReturn = [];\n        if (filters.carmichael){\n            toReturn.push('carmichael')\n        }\n        if (filters.dewick){\n            toReturn.push('dewick')\n        }\n        if (filters.hodgdon){\n            toReturn.push('hodgdon')\n        }\n\n        return toReturn\n    }\n    cards(){\n        const {cards} = this.state;\n        let toReturn = [];\n        const filtersList = this.makeFilters();\n        cards.forEach(x => {\n                if (filtersList.includes(x.location)){\n                    toReturn.push(this.makeCard(x))}\n            }\n        );\n\n        if (toReturn.length === 0){\n            return this.makeUnavailableFiltersCard()\n\n        }\n        return toReturn\n    }\n\n    showOptions(){\n        const {filters} = this.state;\n        const {carmichael, dewick, hodgdon} = filters;\n        return(\n            <div>\n                <Chip\n                    className=\"chip\"\n                    key='carm'\n                    label='Carmichael'\n                    clickable\n                    color={carmichael ? 'primary' : 'default'}\n                    onClick={() => this.setState({filters: {\n                            carmichael: !carmichael, dewick: dewick, hodgdon: hodgdon\n                        }})}\n                />\n                <Chip\n                    className=\"chip\"\n                    key='dew'\n                    label='Dewick'\n                    clickable\n                    color={dewick ? 'primary' : 'default'}\n                    onClick={() => this.setState({filters: {\n                            carmichael: carmichael, dewick: !dewick, hodgdon: hodgdon\n                        }})}\n                />\n                <Chip\n                    className=\"chip\"\n                    key='hodge'\n                    label='Hodgdon'\n                    clickable\n                    color={hodgdon ? 'primary' : 'default'}\n                    onClick={() => this.setState({filters: {\n                            carmichael: carmichael, dewick: dewick, hodgdon: !hodgdon\n                        }})}\n                />\n            </div>\n        )\n    }\n\n    componentDidMount() {\n        this.requestCards()\n        // setInterval(this.requestCards, 10000)\n    }\n\n    render() {\n        const {cards, showConfirmation, selectedLocation, selectedTime} = this.state;\n        console.log(this.props)\n\n        return(\n            <div style={{marginLeft:'15%', marginRight: '15%'}}>\n                <div style={{fontSize:30, textAlign:'left', marginBottom:10}}>Available Meal Swipes:</div>\n                {this.showOptions()}\n                <br/>\n                {cards.length === 0 ? this.makeUnavailableCard() : this.cards()}\n                <Dialog\n                    open={showConfirmation}\n                    onClose={() => this.setState({showConfirmation: false})}\n                    aria-labelledby=\"alert-dialog-title\"\n                    aria-describedby=\"alert-dialog-description\"\n                >\n                    <DialogTitle id=\"alert-dialog-title\">Please confirm your request</DialogTitle>\n                    <DialogContent>\n                        <DialogContentText id=\"alert-dialog-description\">\n                            You're agreeing to a meal at {this.toPrettyLocationString(selectedLocation)} at {this.toPrettyTimeString(selectedTime)}\n                        </DialogContentText>\n                        <DialogContentText id=\"alert-dialog-description2\">\n                            You will receive an email alert as a reminder.\n                        </DialogContentText>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={() => this.setState({showConfirmation: false})} color=\"primary\">\n                            Disagree\n                        </Button>\n                        <Button onClick={() => this.setState({showConfirmation: false})} color=\"primary\" autoFocus>\n                            Agree\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n        )\n    }\n}\n\nexport default Cards;"]},"metadata":{},"sourceType":"module"}